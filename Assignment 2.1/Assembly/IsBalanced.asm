@half1
M=0
@half2
M=0
@counter
M=0

@n
D=M 
@copyn
M=D

@k
M=0

@2
D=A
@2divider 
M=D

@STARTWHILENOCOUNTER
0;JMP
(STARTWHILECOUNTER)
@k
M=M+1
(STARTWHILENOCOUNTER)
@2divider
D=M
@copyn
D=M-D
M=D
@STARTWHILECOUNTER
D;JGE

(STARTWHILEFIRST)
@counter
D=M
@array
A=M+D
D=M
@half1
M=M+D
@counter
M=M+1
D=M
@k
D=M-D
@STARTWHILEFIRST
D;JGT

(STARTWHILESECOND)
@counter
D=M
@array
A=M+D
D=M
@half2
M=M+D
@counter
M=M+1
D=M
@n
D=M-D
@STARTWHILESECOND
D;JGT
@half2
D=M
@half1
D=D-M
@EQUAL
D;JEQ
@balanced
M=0
@END
0;JMP
(EQUAL)
@balanced
M=1
(END)